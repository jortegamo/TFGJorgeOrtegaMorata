<template name="commentsTabContent">
    <div class="row content-navbar">
        <div class="col-xs-12">
            <div class="filter-options">
                <ul class="tab-page">
                    <li id="contacts-filter" class="filter"><span>Comments</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row text-center content-body">
        <div class="col-xs-12 text-left">
            <div class="list">
                <div class="comment-publish-box row">
                    <p>Leave a comment</p>
                    <div class="col-xs-1">
                        <img src="{{currentAvatar}}">
                    </div>
                    <div class="col-xs-11">
                        <form id="form-comment">
                            <textarea placeholder="leave a comment"></textarea>
                            <button type="submit">publish</button>
                        </form>
                    </div>
                </div>
                <div class="row">
                    {{#if hasComments}}
                        {{> commentsList}}
                    {{/if}}
                </div>
            </div>
        </div>
    </div>
</template>

<template name="commentsList">
        <div class="col-xs-12 comment-list">
            {{#each comments}}
                {{> comment}}
            {{/each}}
        </div>
</template>

<template name="commentsRepliesList">
    <div class="col-xs-12 comment-list">
        {{#each replies}}
            {{> commentReply}}
        {{/each}}
    </div>
</template>

<template name="comment">
    <div class="row comment">
        {{>commentDefault}}
        <div class="col-xs-11 col-xs-offset-1">
            <button class="create-reply-button"><i class="fa fa-reply"></i> create reply</button>
            <div class="comment-publish-box row">
                <div class="col-xs-1">
                    <img src="{{currentAvatar}}">
                </div>
                <div class="col-xs-11">
                    <form id="form-reply-comment">
                        <textarea placeholder="leave a reply"></textarea>
                        <button type="submit">publish</button>
                        <button class="cancel-publish-reply">cancel</button>
                    </form>
                </div>
            </div>
            <div class="row">
                {{#if hasReplies}}
                    {{>commentsRepliesList}}
                {{/if}}
            </div>
        </div>
    </div>
</template>

<template name="commentDefault">
    <div class="col-xs-1">
        <img src="{{avatar}}">
    </div>
    <div class="col-xs-11 body">
        <p>
            <span class="username">{{username}}</span>
            <span> - <i class="fa fa-clock-o"></i> {{dateFrom createdAt}}</span>
            {{#if isNotReply}}
                <span class="pull-right"><i class="fa fa-reply"></i> {{replies_count}}</span>
            {{/if}}
        </p>
        <div class="comment-body">
            <div class="arrow"></div>
            {{text}}
        </div>
    </div>
</template>

<template name="commentReply">
    <div class="row comment-reply">
        {{>commentDefault}}
    </div>
</template>